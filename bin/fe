#!/usr/bin/env node
const { program } = require('commander');
const figlet = require('figlet');
const versionStr = figlet.textSync('Fe Code');
const Printer = require('@darkobits/lolcatjs');
const shell = require('shelljs');
const _version = require('../package.json').version;
const chalk = require('chalk');
const inquirer = require('inquirer');
const ora = require('ora');
const download = require('download-git-repo');
const api2code = require('../scripts/api2code');
const vue2code = require('../scripts/vue2code');
const react2code = require('../scripts/react2code');
const envir2code = require('../scripts/envir2code');
program
  .version(
    Printer.default.fromString(
      `   \n   å‰ç«¯ä»£ç ç”Ÿæˆå™¨${_version}\n    www.yidengfe.com \n${versionStr}`
    )
  )
  .option('-c, --config <path>', 'é…ç½®è·¯å¾„', './fecode.cong.js');

//æ¥å£ç”Ÿæˆä»£ç éƒ¨åˆ†
api2code(program);
//ç”ŸæˆVueä»£ç éƒ¨åˆ†
vue2code(program);
//ç”Ÿæˆreactä»£ç éƒ¨åˆ†
react2code(program);
//ç”Ÿæˆè¿è¡Œç¯å¢ƒä»£ç éƒ¨åˆ†
envir2code(program);
program
  .usage('[å¯¹åº”Commands]')
  .arguments('<cmd>')
  .action(function (cmd, otherParmas) {
    const whiteList = ['api2ts'];
    if (whiteList.indexOf(cmd) < 0) {
      console.log('ğŸ ' + chalk.blue(`${cmd}`) + ' ' + chalk.red('æš‚æœªæ”¯æŒ~'));
    }
  });
program.parse(process.argv);
